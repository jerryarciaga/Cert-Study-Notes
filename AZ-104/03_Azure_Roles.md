# Types of Azure Roles
## 3 Types of Roles that can serve the same purpose
* **Classic subscription administrator roles**
	* Original role system
* **Azure roles**
	* Authorization system is known as Role-Based Access Controls (RBAC) and is built on top of Azure Resource Manager
* **Azure Active Directory (Azure AD) roles**
	* Azure AD Roles are used to managed Azure AD resources in a directory
# IAM Access Controls
**Identity Access Management (IAM)** allows you to create and assign roles to users.
* **Azure Roles(RBAC System)**
	* Roles restrict access to resource actions (aka operations). Two types of roles:
	1. Builtin Role - Managed Microsoft roles are read only pre-created roles for you to use
	2. Custom Role - Role created by you with your own custom logic
* **Role Assignment**
	* Is when you apply a role to a service principle, (user) group or user
* **Deny Assignments**
	* block users from performing specific actions even if a role assignment grants them access. The only way to apply **Deny Assignments** is through **Azure BluePrints**
# Classic Administrators
**Classic Administrators** is the **original role system**. You <u>should use the new RBAC system</u> when possible.
* **Classic Administrators have three types of roles**:
	1. **Account Administrator** The billing owner of the subscription. Has no access to the Azure portal.
	2. **Service Administrator** Sam access of a user assigned the Owner role at subscription scope. Full access to the Azure portal.
	3. **Co-Administrator** same access of a user who is assigned the Owner role at the subscription scope.
* Classic Admins get set up when you make an Azure account.
# Role-Based Access Control (RBAC)
Azure RBAC helps you manage **who has access to Azure resources**, what they do with those resources, and what areas they have access to.
**Role Assignments** is the way you control access to resources.
* A Role Assignment consists of these elements:
	1. Security principal
	2. Role definition
	3. scope
## Security Principal
Represents the identities requesting access to an Azure resource such as
* **User** An individual who has a profile in Azure Active Directory
* **Group** A set of users created in Azure Active Directory
* **Service Principal** A security identity used by applications or services to access specific Azure resources
* **Managed Identity** An identity in Azure Active Directory that is automatically managed by Azure
## Scope
**Scope** is the **set of resources** that access for the Role Assignment applies to. Scope Access Controls at the Management, Subscription or Resource Group level.
## Role Definition
**A role definition** is a collection of permissions. A role definition lists the operations that can be performed, such as **read, write and delete**. Roles can be high-level, like owner, or specific, like virtual machine reader.
Azure has **built-in roles** and you can define **custom roles**.
## Azure AD Roles
Used to **manage Azure AD Resources** in a directory such as:
* Create or edit users
* assign administrative roles to others
* reset user passwords
* manage user licenses
* manage domains
Built-In Azure AD roles
* **Global Administrator** Full access to everything
* **User Administrator** Full access to create and manage users
* **Billing Administrator** Make purchases, manage subscriptions and support tickets
**NOTE**: You can create custom roles but you need to purchase either **Azure AD Premium P1** or **P2**
* Azure Role Document syntax of the property names will change whether its Azure Powershell or Azure CLI
### Anatomy of an Azure Role
* **Name (roleName)** The display name of the custom role
* **Id (name)** The unique ID of the custom role. This is autogenerated
* **IsCustom (roleType)** Indicates whether this is a custom role (True or false)
* **Description (description)** The description of the custom role
* **Actions (actions)** An array of strings that specifies the management operations that the role allows to be performed
* **NotActions (notActions)** An array of strings that specifies the management operations that are excluded from the allowed Actions
* **DataActions (dataActions)** An array of strings that specifies data operations the role is allowed to perform to your data within that object
* **NotDataActions (notDataActions)** An array of strings that specifies the data operations that are excluded from the allowed DataActions
* **AssignableScopes (assignableScopes)** An array of strings that specifies the scopes that the custom role is available for assignment.
* **Wildcard permissions** Actions, NotActions, DataActions and NotDataActions support wildcards (\*)
# Azure Policies vs Azure Roles (RBAC)
## Azure Policies
They are used to **ensure compliance** of resources.
* They do not restrict actions (also called *operations*)
* Ensures that resource state is compliant to your business rules without concern for who made the change or who has permission to make a change
## Azure Roles
They are used to **control access** to Azure resources.
* Does restriction on Azure resources
# Azure AD Roles vs Azure Roles (RBAC)
* By default Azure roles and Azure AD Roles **do not span** Azure and Azure AD
* By default, the **Global Administrator** doesn't have access to Azure resources.
* Global administrator can gain access to Azure resource if granted the User Access Administrator
## Azure AD Roles
* They are used to **control access** of **AD Resources**
* AD Resources:
	* Users
	* Groups
	* Billing
	* Licensing
	* Application Registration
## Azure Roles
* They are used to **control access** to **Azure Resources**
* Azure Resources:
	* Virtual Machines
	* Databases
	* Cloud Storage
	* Cloud Networking
	* Etc